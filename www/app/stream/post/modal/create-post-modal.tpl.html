<!--NOTE: The scope of controller is generated by stream-ctrl.js-->

<div class="modal create-post-modal">
  <ion-header-bar>
    <button class="button button-icon icon sprout-icon-close" ng-click="cancelCreatePost(newPost)"></button>
    <h1 class="title">POST TO STREAM</h1>
    <button type="button" class="button button-clear post" ng-class="{'active':newPost.text.length>0}" ng-click="submitPost(newPost)">POST</button>
  </ion-header-bar>
  <ion-content class="padding has-header">
    <div class="row create-post-input" ng-click="selectSharingTargets()">
      <h3 class="share-target">Share with: <span ng-bind="shareWith.displayName"></span><span class="icon" ng-class="{true: 'ion-chevron-up', false: 'ion-chevron-down'}[userSelectingSharingTargets]"></span></h3>
      <hr/>
    </div>
    <div class="list" ng-show="userSelectingSharingTargets">
      <ion-radio class="styled-radio share-post-radio" ng-model="shareWith" ng-value="target" ng-change="shareTargetSelected(target)" ng-repeat="target in sharingTargets">
        {{ target.displayName }}
      </ion-radio>
    </div>
    <div class="list list-item">
      <textarea tabindex="0" rows="4" id="post-to-stream-text" ng-model="newPost.text" class="post-box" placeholder="Share an update..." set-focus="showKeyboard" ng-click="showKeyboard=true"></textarea>
    </div>
  </ion-content>
</div>